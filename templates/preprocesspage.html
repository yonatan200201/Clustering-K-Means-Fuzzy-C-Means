<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>COVID-19 Clustering Application</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Besley:wght@900&family=IBM+Plex+Sans+Thai:wght@100&display=swap">

<!-- CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">

<!-- Bootstrap -->
<link rel="stylesheet" href="{{ url_for('static', filename='styles/bootstrap.css') }}">

<!-- Font Awesome  -->
<link rel="stylesheet" href="{{ url_for('static', filename='styles/font-awesome.min.css') }}">

<!-- Web Font  -->
<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
<!-- Custom CSS -->
<link href="styles/style.css" rel="stylesheet" type="text/css" media="all"/>
<script src="js/jquery.min.js"></script>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="language" content="en-EN" />
<meta name="author" content="Irfan Maulana" />
<link rel="author" href="https://plus.google.com/u/0/+irfanmaulana-mazipan/posts" />
<link rel="publisher" href="https://plus.google.com/u/0/+irfanmaulana-mazipan" />
<meta name="keywords" content="bootstrap, bootstrap 4, bootstrap 4 template, bootstrap 4 admin, bootstrap 4 dashboard" />
<meta name="description" content="Bootstrap 4 admin dashboard template by Irfan Maulana" />
<meta property="og:title" content="Bootstrap 4 Admin Dashboard Template | Irfan Maulana" />
<meta property="og:description" content="Bootstrap 4 admin dashboard template by Irfan Maulana" />
<meta property="og:url" content="https://mazipan.github.io/bootstrap4-admin-dashboard-template/" />
<meta property="og:site_name" content="Bootstrap 4 Admin Dashboard Template" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@maz_ipan" />
<meta name="twitter:creator" content="@maz_ipan" />
<meta name="twitter:title" content="Bootstrap 4 Admin Dashboard Template | Irfan Maulana" />
<meta name="twitter:description" content="Bootstrap 4 admin dashboard template by Irfan Maulana" />
<meta name="twitter:domain" content="https://mazipan.github.io/bootstrap4-admin-dashboard-template/" />
<link rel="home" href="https://mazipan.github.io/bootstrap4-admin-dashboard-template/">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.shutterstock.com/image-vector/clustering-line-icon-creative-outline-260nw-1990550723.jpg">
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
  crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="dist/main.css">
<link href="styles/style.css" rel="stylesheet" type="text/css" media="all"/>
<script src="js/jquery.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script type="text/javascript" src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-25065548-2"></script>
<script>window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-25065548-2');</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: "ca-pub-5442972248172818",
  enable_page_level_ads: true
});
</script>
<style>
  .menu-items-custom li a {
	color: crimson;
}

  .menu-items-custom li a:hover {
	background-color: crimson;
	color: #fff;
}
</style>
<style>
  table {
      width: 100%;
      border-collapse: collapse;
  }

  th, td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #ddd;
      font-size: medium;
  }

  th {
      background-color: #f2f2f2;
  }

  @media only screen and (max-width: 768px) {
      table {
          font-size: 12px;
      }

      th, td {
          padding: 6px;
      }
  }

  .upload {
  background-color: #fff;
  color: black; 
  border: 2px solid crimson;
  border-radius: 8px;
  padding: 10px 50px;
}

.upload:hover {
  background-color: crimson;
  color: black; 
  color: #fff;
}
</style>
</head>
<body>
  <header style="background-color: crimson;" class="navbar navbar-expand sticky-top  navbar-dark flex-column flex-md-row bd-navbar" style="background-color: crimson;"> 
    <a class="navbar-brand mr-0 mr-md-2" href="#">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
        <a class="navbar-brand" href="#"><h1>COVID-19 Clustering Application</h1></a><br><br>
    </a>
  </header>

<div class="container-fluid">
  <div class="row">
    <aside class="col-md-2 d-none d-md-block bg-light sidebar">
      <div class="sidebar-sticky">
        <ul class="menu-items-custom nav flex-column">
          <li class="nav-item">
            <a class="nav-link active" href="{{ url_for('index') }}">
              <i class="fa fa-database"></i>
              Upload Data
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="{{ url_for('views') }}">
              <i class="fa fa-database"></i>
              Views Data
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="{{ url_for('preprocesspage') }}">
              <i class="fa fa-sun-o"></i>
              Preprocessing Data
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('hasils') }}">
              <i class="fa fa-pencil-square-o"></i> Hasil Akhir
            </a>
          </li>
        </ul>
      </div>
    </aside>
    <main class="col-md-10 ml-sm-auto col-lg-10 pt-3 px-4">

      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
        <h1 class="h2"><i class="fa fa-sun-o"></i> Hasil Preprocessing</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
        </div>
      </div>
      <div id="section_header">
        <div class="container">
            <div class="form-group">
              <div class="card-body">
                <h1>Hasil Preprocessing</h1><br><br>
    <form method="POST" action="/preprocessing" enctype="multipart/form-data">
        <button class="button upload" type="submit" name="preprocessing">Hasil Preprocessing</button>
    </form>
    <br><br>
    {% if plot %}
    <div class="card-body">
      <h1>Tabel Data Setelah Preprocessing</h1><br>
      <div class="table-responsive" style="overflow-x: scroll; overflow-y: scroll; height: 420px;" class="mt-5">
        <!-- Tampilkan data DataFrame sebagai tabel -->
        {{ table_data | safe }}
      </div><br>
      <a href="../static/hasil_preprocessing.csv" style="text-align: right;" download><button>Download File</button></a>
      <br><br><br>
      <h1>Karakteristik Data</h1><br>
      <ul>
        <h2 style="text-align: left;">1. Ukuran dataset: {{ df_filteredshape }}</h2><br>
        <h2 style="text-align: left;">2. Tipe data setiap kolom:</h2>
    <table>
        <tr>
            <th>Nama Kolom</th>
            <th>Tipe Data</th>
        </tr>
        {% for column_name, dtype in df_filtereddtypes.items() %}
        <tr>
            <td>{{ column_name }}</td>
            <td>{{ dtype }}</td>
        </tr>
        {% endfor %}
    </table><br>
    <h2 style="text-align: left;">3. Missing Values:</h2>
    <table border="1">
      <tr>
          <th>Kolom</th>
          <th>Jumlah Missing Values</th>
      </tr>
      {% for kolom, jumlah in df_filteredisnull.items() %}
      <tr>
          <td>{{ kolom }}</td>
          <td>{{ jumlah }}</td>
      </tr>
      {% endfor %}
    </table><br>
    <h2 style="text-align: left;">4. Menentukan nilai batas untuk mengidentifikasi outlier :</h2>
    <table>
      <tr>
          <th>Kolom</th>
          <th>Jumlah Outlier</th>
      </tr>
      {% for kolom, jumlah_outlier in jumlah_outliers_per_kolom.items() %}
          <tr>
              <td>{{ kolom }}</td>
              <td>{{ jumlah_outlier }}</td>
          </tr>
      {% endfor %}
    </table><br>
    <h2 style="text-align: left;">5. Distribusi Data :</h2>
    <div id="excel_data" style="overflow-x: scroll; overflow-y: scroll; height: 460px;" class="mt-5">
    <table>
      <tr>
          <th>Informasi distribusi data per kolom:</th>
          {% for column_name in df_filtereddescribe().columns %}
          <th>{{ column_name }}</th>
          {% endfor %}
      </tr>
      {% for index, row in df_filtereddescribe().iterrows() %}
      <tr>
          <td>{{ index }}</td>
          {% for column_name in df_filtereddescribe().columns %}
          <td>{{ row[column_name] }}</td>
          {% endfor %}
      </tr>
      {% endfor %}
    </table>
    </div><br>
    <h2 style="text-align: left;">6. Jumlah duplikasi data per kolom : {{ jumlah_duplikasi_per_kolom }}</h2>
   </ul>
    </div>
    <br>
    <div class="card-body">
      <h1>Normalisasi Data</h1>
        <ul>
          <h2 style="text-align: left;">Skala Data Setelah Normalisasi:</h2><br>
          <div id="excel_data" style="overflow-x: scroll; overflow-y: scroll; height: 420px;" class="mt-5">
          <table>
            <tr>
                <th>Statistik Deskriptif</th>
                {% for column_name in df_normalizeddescribe().columns %}
                <th>{{ column_name }}</th>
                {% endfor %}
            </tr>
            {% for index, row in df_normalizeddescribe().iterrows() %}
            <tr>
                <td>{{ index }}</td>
                {% for column_name in df_normalizeddescribe().columns %}
                <td>{{ '{:.2e}'.format(row[column_name]) }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
          </table>
        </div>
        </ul>
    </div>
    <br>
    <div class="card-body">
    <h1>Korelasi Data</h1><br>
    <img src="static/images/heatmap.png" alt="Plot" width="1200" height="800"><br>
    <h4>Gambar Heatmap</h4><br><br>
    <h4 style="text-align: left;">Variabel-variabel yang akan digunakan</h4>
    <ul style="text-align: left;">
      {% for column in df_filteredcolumns %}
          <li style="text-align: left; font-size: medium;">{{ column }}</li>
      {% endfor %}
  </ul>
    </div><br><br>
    <h1>Data Hasil Reduksi Dimensi dengan PCA</h1><br>
    <div class="table-responsive">
      <!-- Tampilkan data DataFrame sebagai tabel -->
      <pre style="font-size: medium;">{{ xpca | safe }}</pre>
    </div>
    {% endif %}
              </div>
            </div>
            <br><br>
        </div>
      </div>
      <div class="row">
      </div>      
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script>
  var x = document.getElementById("preprocessss");
  function showdata(){
    x.style.display = "block";
  }
</script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
  crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
  crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.js"></script>
<script src="js/main.js"></script>
<script src="js/chart.js"></script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5442972248172818" data-ad-slot="1487770485" data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://www.mazipan.github.io/","name":"Irfan Maulana | Front End Developer","author":"Irfan Maulana","image":"http://mazipan.github.io/images/irfan-maulana.jpg","description":"Irfan Maulana is Front End Developer from Indonesia - Man that craft some code to build a beauty and readable code, experienced in web and desktop technology.","sameAs":["https://www.facebook.com/mazipanneh","https://instagram.com/maz_ipan","https://twitter.com/Maz_Ipan","https://id.linkedin.com/in/irfanmaulanamazipan","https://www.slideshare.net/IrfanMaulana21","https://github.com/mazipan"]}</script>
<script type="application/ld+json">{"@context":"http://schema.org","@type":"Person","email":"mailto:mazipanneh@gmail.com","image":"http://mazipan.github.io/images/irfan-maulana.jpg","jobTitle":"Software Engineer","name":"Irfan Maulana","url":"https://www.mazipan.github.io/","sameAs":["https://www.facebook.com/mazipanneh","https://instagram.com/maz_ipan","https://twitter.com/Maz_Ipan","https://id.linkedin.com/in/irfanmaulanamazipan","https://www.slideshare.net/IrfanMaulana21","https://github.com/mazipan"]}</script>
<script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"http://mazipan.github.io/","name":"Home","image":"http://mazipan.github.io/images/irfan-maulana.jpg"}},{"@type":"ListItem","position":2,"item":{"@id":"http://mazipan.github.io/demo/","name":"Demo","image":"http://mazipan.github.io/images/irfan-maulana.jpg"}},{"@type":"ListItem","position":3,"item":{"@id":"http://mazipan.github.io/bootstrap4-admin-dashboard-template","name":"bootstrap4-admin-dashboard-template","image":"http://mazipan.github.io/images/irfan-maulana.jpg"}}]}</script>

    <div id="excel_data" class="mt-5"></div>
</div>  
</body>
</html>